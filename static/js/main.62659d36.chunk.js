(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{46:function(t,e,i){},71:function(t,e,i){"use strict";i.r(e);var n=i(1),c=i(14),l=i.n(c),a=i(15),r=i(12),s=i(13),o=i(18),u=i(17),d=(i(45),i(46),i(5)),h=i(6),j=i(34),b=i.n(j).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),O=new(function(){function t(){Object(r.a)(this,t)}return Object(s.a)(t,[{key:"getAll",value:function(){return b.get("/tutorials")}},{key:"get",value:function(t){return b.get("/tutorials/".concat(t))}},{key:"create",value:function(t){return b.post("/tutorials",t)}},{key:"update",value:function(t,e){return b.put("/tutorials/".concat(t),e)}},{key:"delete",value:function(t){return b.delete("/tutorials/".concat(t))}},{key:"deleteAll",value:function(){return b.delete("/tutorials")}},{key:"findByTitle",value:function(t){return b.get("/tutorials?title=".concat(t))}}]),t}()),p=i(4),v=i(3),x=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(h.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(h.a)(n)),n.saveTutorial=n.saveTutorial.bind(Object(h.a)(n)),n.newTutorial=n.newTutorial.bind(Object(h.a)(n)),n.state={id:null,title:"",description:"",published:!1,submitted:!1},n}return Object(s.a)(i,[{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"saveTutorial",value:function(){var t=this,e={title:this.state.title,description:this.state.description};O.create(e).then((function(e){t.setState({id:e.data.id,title:e.data.title,description:e.data.description,published:e.data.published,submitted:!0}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)(p.a,{color:"info",dismissible:!0,children:"Your Tutorial has been submitted"}),Object(v.jsx)("div",{children:Object(v.jsx)(p.c,{color:"info",outline:!0,size:"sm",onClick:this.newTutorial,children:"Add tutorial"})})]}):Object(v.jsx)("div",{children:Object(v.jsxs)(p.i,{inline:!0,children:[Object(v.jsxs)(p.j,{floating:!0,children:[Object(v.jsx)(p.k,{id:"title",name:"title",placeholder:"Title",type:"text",required:!0,value:this.state.title,onChange:this.onChangeTitle}),Object(v.jsx)(p.l,{for:"title",children:"Title"})]})," ",Object(v.jsxs)(p.j,{floating:!0,children:[Object(v.jsx)(p.k,{id:"desc",name:"desc",placeholder:"description",type:"text",required:!0,value:this.state.description,onChange:this.onChangeDescription}),Object(v.jsx)(p.l,{for:"desc",children:"Description"})]})," ",Object(v.jsx)(p.c,{color:"success",outline:!0,size:"sm",onClick:this.saveTutorial,children:"Submit"})]})})})}}]),i}(n.Component),g=i(19),f=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(h.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(h.a)(n)),n.getTutorial=n.getTutorial.bind(Object(h.a)(n)),n.updateTutorial=n.updateTutorial.bind(Object(h.a)(n)),n.updatePublished=n.updatePublished.bind(Object(h.a)(n)),n.deleteTutorial=n.deleteTutorial.bind(Object(h.a)(n)),n.state={currentTutorial:{id:null,title:"",description:"",published:!1},message:""},n}return Object(s.a)(i,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(t){var e=t.target.value;this.setState((function(t){return{currentTutorial:Object(g.a)(Object(g.a)({},t.currentTutorial),{},{title:e})}}))}},{key:"onChangeDescription",value:function(t){var e=t.target.value;this.setState((function(t){return{currentTutorial:Object(g.a)(Object(g.a)({},t.currentTutorial),{},{description:e})}}))}},{key:"getTutorial",value:function(t){var e=this;O.get(t).then((function(t){console.log(t.data),e.setState({currentTutorial:t.data})})).catch((function(t){console.log(t)}))}},{key:"updateTutorial",value:function(){var t=this;O.update(this.state.currentTutorial.id,this.state.currentTutorial).then((function(e){console.log(e.data),t.setState({message:"Tutorial updated successfully"}),t.props.history.push("/tutorials")})).then((function(t){console.log(t)}))}},{key:"updatePublished",value:function(t){var e=this,i={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:t};O.update(this.state.currentTutorial.id,i).then((function(i){console.log(i.data),e.setState((function(e){return{currentTutorial:Object(g.a)(Object(g.a)({},e.currentTutorial),{},{published:t})}}))})).catch((function(t){console.log(t)}))}},{key:"deleteTutorial",value:function(){var t=this;O.delete(this.state.currentTutorial.id).then((function(e){console.log(e.data),t.props.history.push("/tutorials")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.currentTutorial;return Object(v.jsx)("div",{children:e?Object(v.jsxs)(p.d,{body:!0,color:"warning",outline:!0,children:[Object(v.jsx)(p.h,{tag:"h5",children:"Tutorial"}),Object(v.jsxs)(p.i,{inline:!0,children:[Object(v.jsxs)(p.j,{floating:!0,children:[Object(v.jsx)(p.k,{id:"title",name:"title",placeholder:"Title",value:e.title,onChange:this.onChangeTitle}),Object(v.jsx)(p.l,{for:"title",children:"Title"})]})," ",Object(v.jsxs)(p.j,{floating:!0,children:[Object(v.jsx)(p.k,{id:"description",name:"description",placeholder:"description",value:e.description,onChange:this.onChangeDescription}),Object(v.jsx)(p.l,{for:"description",children:"Description"})]})," ",Object(v.jsx)(p.j,{floating:!0,children:e.published?Object(v.jsx)("div",{children:Object(v.jsx)(p.b,{color:"success",pill:!0,children:"Published"})}):Object(v.jsx)("div",{children:Object(v.jsx)(p.b,{color:"danger",pill:!0,children:"Not Published"})})})," "]}),Object(v.jsxs)("div",{children:[e.published?Object(v.jsx)(p.c,{onClick:function(){return t.updatePublished(!1)},color:"success",outline:!0,size:"sm",children:"UnPublish"}):Object(v.jsx)(p.c,{onClick:function(){return t.updatePublished(!0)},color:"success",outline:!0,size:"sm",children:"Publish"})," ",Object(v.jsx)(p.c,{onClick:this.deleteTutorial,color:"danger",outline:!0,size:"sm",children:"Delete"})," ",Object(v.jsx)(p.c,{onClick:this.updateTutorial,color:"info",outline:!0,size:"sm",children:"Update"})," "]}),Object(v.jsx)("p",{children:this.state.message})]}):Object(v.jsxs)(p.d,{body:!0,color:"warning",outline:!0,children:[Object(v.jsx)(p.h,{tag:"h5",children:"Special Title Treatment"}),Object(v.jsx)(p.g,{children:"With supporting text below as a natural lead-in to additional content."}),Object(v.jsx)(p.c,{children:"Button"})]})})}}]),i}(n.Component),T=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeSearchTitle=n.onChangeSearchTitle.bind(Object(h.a)(n)),n.retrieveTutorials=n.retrieveTutorials.bind(Object(h.a)(n)),n.refreshList=n.refreshList.bind(Object(h.a)(n)),n.setActiveTutorial=n.setActiveTutorial.bind(Object(h.a)(n)),n.removeAllTutorials=n.removeAllTutorials.bind(Object(h.a)(n)),n.searchTitle=n.searchTitle.bind(Object(h.a)(n)),n.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:""},n}return Object(s.a)(i,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(t){var e=t.target.value;this.setState({searchTitle:e})}},{key:"retrieveTutorials",value:function(){var t=this;O.getAll().then((function(e){t.setState({tutorials:e.data}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(t,e){this.setState({currentTutorial:t,currentIndex:e})}},{key:"removeAllTutorials",value:function(){var t=this;O.deleteAll().then((function(e){console.log(e.data),t.refreshList()})).catch((function(t){console.log(t)}))}},{key:"searchTitle",value:function(){var t=this;O.findByTitle(this.state.searchTitle).then((function(e){t.setState({tutorials:e.data}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,i=(e.searchTitle,e.tutorials),n=e.currentTutorial,c=e.currentIndex;return Object(v.jsxs)("div",{children:[Object(v.jsx)(p.d,{color:"warning",inverse:!0,outline:!0,children:Object(v.jsx)(p.e,{children:Object(v.jsx)(p.f,{className:"mb-2 text-muted",tag:"h6",children:"Tutorial List"})})}),Object(v.jsx)(p.d,{color:"warning",outline:!0,children:Object(v.jsx)(p.e,{children:Object(v.jsxs)("div",{className:"list row",children:[Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("ul",{className:"list-group",children:i&&i.map((function(e,i){return Object(v.jsx)("li",{className:"list-group-item "+(i===c?"active":""),onClick:function(){return t.setActiveTutorial(e,i)},children:Object(v.jsxs)("div",{children:[Object(v.jsx)(p.b,{color:"info",pill:!0,children:e.title})," ",Object(v.jsx)(p.b,{color:"info",pill:!0,children:e.description})]})},i)}))}),Object(v.jsx)(p.c,{color:"danger",outline:!0,onClick:this.removeAllTutorials,children:"Remove All"})]}),Object(v.jsx)("div",{className:"col-md-6",children:n?Object(v.jsxs)(p.d,{body:!0,color:"warning",outline:!0,children:[Object(v.jsx)(p.h,{tag:"h5",children:"Tutorial"}),Object(v.jsxs)(p.g,{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Title:"})})," ",n.title]}),Object(v.jsxs)(p.g,{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Description:"})})," ",n.description]}),Object(v.jsxs)(p.g,{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Status:"})})," ",n.published?"Published":"Pending"]}),Object(v.jsx)(p.g,{children:Object(v.jsx)(a.b,{to:"/tutorials/"+n.id,className:"nav-link",children:"Edit"})})]}):Object(v.jsx)(p.a,{color:"warning",children:"Please select a tutorial ...."})})]})})})]})}}]),i}(n.Component),m=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(){return Object(r.a)(this,i),e.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(v.jsx)("a",{href:"/tutorials",className:"navbar-brand",children:"Shark"}),Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(a.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(a.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{exact:!0,path:["/","/tutorials"],component:T}),Object(v.jsx)(d.a,{exact:!0,path:"/add",component:x}),Object(v.jsx)(d.a,{path:"/tutorials/:id",component:f})]})})]})}}]),i}(n.Component),k=m;l.a.render(Object(v.jsx)(a.a,{children:Object(v.jsx)(k,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.62659d36.chunk.js.map